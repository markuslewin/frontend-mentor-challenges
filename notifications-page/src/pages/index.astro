---
import "@fontsource-variable/plus-jakarta-sans";
import "../styles/global.css";
import { notifications } from "../data/notifications";
---

<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <!-- displays site properly based on user's device -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      rel="icon"
      type="image/png"
      sizes="32x32"
      href="/assets/images/favicon-32x32.png"
    />
    <title>Frontend Mentor | Notifications page</title>
  </head>
  <body>
    <main class="min-h-screen desktop:p-16 grid desktop:items-center">
      <article
        class="bg-white desktop:max-w-notifications mx-auto box-content desktop:rounded-2xl desktop:shadow-notifications py-6 p-4 tablet:p-8"
      >
        <header class="flex justify-between items-center gap-4">
          <h1
            class="flex gap-2 items-center text-header tablet:text-header-desktop"
            id="notifications-heading"
          >
            Notifications <span class="sr-only">(</span><span
              class="bg-blue text-white text-body rounded-md p-[0.6875rem] pb-[0.1875rem] pt-[0.125rem] desktop:text-body-desktop"
              >3</span
            ><span class="sr-only"> unread)</span>
          </h1>
          <form>
            <button type="submit">Mark all as read</button>
          </form>
        </header>
        <ol
          class="mt-6 tablet:mt-8 space-y-2"
          role="list"
          aria-describedby="notifications-heading"
        >
          {
            notifications.map((notification) => {
              return (
                <li
                  class="rounded-lg grid grid-cols-[max-content_1fr] gap-3 tablet:gap-5 p-4 tablet:p-5 data-[is-read=false]:bg-very-light-grayish-blue"
                  data-type={notification.type}
                  data-is-read={notification.isRead.toString()}
                >
                  {!notification.isRead ? (
                    <p class="sr-only">Unread notification:</p>
                  ) : null}
                  {notification.type === "reacted" ? (
                    <>
                      <img
                        class="h-10 w-auto tablet:h-11"
                        alt=""
                        src={notification.user.avatar}
                        width="90"
                        height="90"
                      />
                      <div>
                        <p class="dot">
                          <a class="text-very-dark-blue" href="#">
                            {notification.user.name}
                          </a>{" "}
                          reacted to your recent post{" "}
                          <a class="text-dark-grayish-blue" href="#">
                            {notification.post}
                          </a>
                        </p>
                        <p class="text-grayish-blue mt-[0.1875rem]">
                          <time datetime={notification.time.datetime}>
                            {notification.time.formatted}
                          </time>
                        </p>
                      </div>
                    </>
                  ) : notification.type === "followed" ? (
                    <>
                      <img
                        class="h-10 w-auto tablet:h-11"
                        alt=""
                        src={notification.user.avatar}
                        width="90"
                        height="90"
                      />
                      <div>
                        <p class="dot">
                          <a class="text-very-dark-blue" href="#">
                            {notification.user.name}
                          </a>{" "}
                          followed you
                        </p>
                        <p class="text-grayish-blue mt-[0.1875rem]">
                          <time datetime={notification.time.datetime}>
                            {notification.time.formatted}
                          </time>
                        </p>
                      </div>
                    </>
                  ) : notification.type === "joined" ? (
                    <>
                      <img
                        class="h-10 w-auto tablet:h-11"
                        alt=""
                        src={notification.user.avatar}
                        width="90"
                        height="90"
                      />
                      <div>
                        <p class="dot">
                          <a class="text-very-dark-blue" href="#">
                            {notification.user.name}
                          </a>{" "}
                          has joined your group{" "}
                          <a href="#">{notification.group}</a>
                        </p>
                        <p class="text-grayish-blue mt-[0.1875rem]">
                          <time datetime={notification.time.datetime}>
                            {notification.time.formatted}
                          </time>
                        </p>
                      </div>
                    </>
                  ) : notification.type === "messaged" ? (
                    <>
                      <img
                        class="h-10 w-auto tablet:h-11"
                        alt=""
                        src={notification.user.avatar}
                        width="90"
                        height="90"
                      />
                      <div>
                        <p class="dot">
                          <a class="text-very-dark-blue" href="#">
                            {notification.user.name}
                          </a>{" "}
                          sent you a private message
                        </p>
                        <p class="text-grayish-blue mt-[0.1875rem]">
                          <time datetime={notification.time.datetime}>
                            {notification.time.formatted}
                          </time>
                        </p>
                        <blockquote class="mt-3 border-[1px] border-light-grayish-blue-2 p-4 tablet:p-5 rounded-[0.3125rem]">
                          {notification.message}
                        </blockquote>
                      </div>
                    </>
                  ) : notification.type === "commented" ? (
                    <>
                      <img
                        class="h-10 w-auto tablet:h-11"
                        alt=""
                        src={notification.user.avatar}
                        width="90"
                        height="90"
                      />
                      <div class="grid grid-cols-[1fr_max-content] gap-4">
                        <div>
                          <p class="dot">
                            <a class="text-very-dark-blue" href="#">
                              {notification.user.name}
                            </a>{" "}
                            commented on your picture
                          </p>
                          <p class="text-grayish-blue mt-[0.1875rem]">
                            <time datetime={notification.time.datetime}>
                              {notification.time.formatted}
                            </time>
                          </p>
                        </div>
                        <a href="#">
                          <img
                            class="h-10 w-auto tablet:h-11"
                            alt="The picture commented on"
                            src="/assets/images/image-chess.webp"
                          />
                        </a>
                      </div>
                    </>
                  ) : notification.type === "left" ? (
                    <>
                      <img
                        class="h-10 w-auto tablet:h-11"
                        alt=""
                        src={notification.user.avatar}
                        width="90"
                        height="90"
                      />
                      <div>
                        <p class="dot">
                          <a class="text-very-dark-blue" href="#">
                            {notification.user.name}
                          </a>{" "}
                          left the group <a href="#">Chess Club</a>
                        </p>
                        <p class="text-grayish-blue mt-[0.1875rem]">
                          <time datetime={notification.time.datetime}>
                            {notification.time.formatted}
                          </time>
                        </p>
                      </div>
                    </>
                  ) : (
                    (() => {
                      throw new Error(
                        `Notification type not implemented: ${JSON.stringify(
                          notification
                        )}`
                      );
                    })()
                  )}
                </li>
              );
            })
          }
        </ol>
      </article>
    </main>
  </body>
</html>
